# Digital Workspace OS — 产品需求文档（PRD）

> **一句话介绍：** 一个免费开源的桌面浏览器工作台，让你在不同的"数字人格"之间瞬间切换，每个工作空间完全隔离，永不串号。

---

## 一、项目概述

### 1.1 这是什么？

**Digital Workspace OS** 是一个桌面应用（支持 Windows/Mac/Linux），它让你可以：

- 创建多个完全隔离的"工作空间"（Workspace）
- 每个工作空间有独立的浏览器会话（Cookie、登录状态、历史记录都不共享）
- 在工作空间之间一键切换，就像切换不同的数字身份
- 自定义和扩展功能，通过插件系统满足个性化需求

**形象比喻：**

- 就像你的电脑上有多个"虚拟人格"，每个人格有自己的浏览器世界
- 类似"多开浏览器"，但更强大、更智能、更易用

### 1.2 我们不是什么？

❌ 不是另一个普通浏览器（如 Chrome/Firefox）  
❌ 不是简单的多账号管理扩展  
❌ 不是虚拟机或容器（太重）  
❌ 不是 VPN 或代理工具（虽然可以配置代理）

---

## 二、为什么要做这个？（问题与动机）

### 2.1 真实用户场景

#### 场景 1：Web3 开发者的噩梦

> "我有 3 个 MetaMask 钱包用于测试，每次切换账号都要退出、清除 Cookie、重新登录。一不小心就用错钱包发了交易，损失惨重。"

**痛点：** 同一浏览器无法真正隔离多个 Web3 钱包，容易误操作

#### 场景 2：社交媒体运营的混乱

> "我管理 5 个客户的 Twitter 账号。经常在 A 账号的窗口里发了 B 账号的内容，导致客户投诉。Chrome 的多用户功能太慢，切换要等半天。"

**痛点：** 多账号管理混乱，容易发错内容，切换效率低

#### 场景 3：远程工作者的角色切换

> "我上午做自己的项目（个人 Gmail、Notion），下午做公司工作（公司 Gmail、Slack）。但浏览器总是把两边的 Cookie 混在一起，导致我在公司的 Google Drive 里看到私人文件推荐。"

**痛点：** 工作与生活无法清晰分离，隐私泄露风险

#### 场景 4：开发者的多环境测试

> "我需要同时登录开发环境、测试环境、生产环境的后台。三个窗口来回切换，经常在生产环境误操作。"

**痛点：** 多环境切换麻烦，容易误操作

### 2.2 现有方案的问题

| 方案                   | 问题                                     |
| ---------------------- | ---------------------------------------- |
| **Chrome 多用户**      | 切换慢、占用内存大、不支持快速切换       |
| **Firefox Containers** | 功能单一、无完整工作流管理、依赖 Firefox |
| **Wavebox/Sidekick**   | 付费（$100+/年）、闭源、功能臃肿         |
| **手动多开浏览器**     | 资源占用巨大、无法管理、容易混乱         |
| **隐身窗口**           | 关闭即丢失、无法持久化、无法管理         |

### 2.3 我们的解决方案

✅ **真正的会话隔离**：每个 Workspace 使用独立的浏览器 session  
✅ **瞬间切换**：一键切换，保留所有打开的 Tabs 和状态  
✅ **核心功能免费**：主要功能完全免费使用  
✅ **轻量高效**：激进的内存管理，比竞品轻 50%+  
✅ **可扩展**：插件系统，满足个性化需求  
✅ **持续优化**：定期更新和性能改进

---

## 三、目标用户

### 3.1 核心用户画像

#### 用户类型 1：Web3 从业者 ⭐⭐⭐⭐⭐

- **特征：** 多个钱包、多个测试账号、频繁切换链和环境
- **痛点：** 钱包串号导致资金损失、测试账号混乱
- **需求：** 绝对隔离、快速切换、支持 MetaMask 等扩展

#### 用户类型 2：社交媒体运营者 ⭐⭐⭐⭐⭐

- **特征：** 管理多个客户/品牌账号、需要发布内容
- **痛点：** 发错账号、切换麻烦、容易混淆
- **需求：** 多账号隔离、一键切换、支持 Hootsuite 等工具

#### 用户类型 3：软件开发者 ⭐⭐⭐⭐

- **特征：** 需要在多个环境（开发/测试/生产）登录
- **痛点：** 多环境切换麻烦、容易误操作
- **需求：** 环境隔离、保存状态、自动化登录

#### 用户类型 4：自由职业者/远程工作者 ⭐⭐⭐⭐

- **特征：** 同时处理多个项目/客户、工作与生活混在一起
- **痛点：** 缺乏清晰边界、隐私泄露、注意力分散
- **需求：** 工作空间分离、快速切换、保护隐私

#### 用户类型 5：学生/研究者 ⭐⭐⭐

- **特征：** 学习、娱乐、社交需要不同环境
- **痛点：** 容易分心、YouTube 推荐算法污染学习内容
- **需求：** 学习与娱乐分离、专注模式、免费

#### 用户类型 6：隐私极客 ⭐⭐⭐⭐

- **特征：** 关注隐私保护、不信任大公司
- **痛点：** 担心数据被跟踪、担心浏览器收集信息
- **需求：** 开源可审计、严格隔离、无追踪

### 3.2 用户优先级

```
第一优先级（MVP 阶段重点）：
- Web3 从业者（痛点最强，付费意愿高）
- 开发者（技术社区影响力大）

第二优先级（成长阶段）：
- 社交媒体运营者
- 自由职业者

第三优先级（扩展阶段）：
- 学生
- 隐私极客
- 企业用户
```

---

## 四、核心功能需求

### 4.1 必须有的功能（MVP）

#### 功能 1：创建和管理 Workspace

**描述：** 用户可以创建多个 Workspace，每个有独立的名称、图标、颜色

**用户故事：**

> 作为一个 Web3 开发者，我希望创建"主钱包"、"测试钱包"、"工作钱包"三个 Workspace，这样我可以清晰地分离不同用途的钱包。

**验收标准：**

- [ ] 用户可以创建新 Workspace（自定义名称、图标、颜色）
- [ ] 用户可以重命名 Workspace
- [ ] 用户可以删除 Workspace（需二次确认）
- [ ] 用户可以看到所有 Workspace 的列表
- [ ] 默认提供 4 个示例 Workspace（Work、Personal、Web3、Study）

**UI 草图：**

```
┌────────────────┐
│ + New Workspace│
├────────────────┤
│ 💼 Work        │ ← 点击切换
│ 🏠 Personal    │
│ 🔗 Web3        │
│ 📚 Study       │
└────────────────┘
```

---

#### 功能 2：Workspace 之间的快速切换

**描述：** 点击 Workspace 即可切换，自动保存/恢复所有 Tabs 状态

**用户故事：**

> 作为一个社交媒体运营者，当我从"客户 A"切换到"客户 B"的 Workspace 时，我希望看到我上次为客户 B 打开的所有 Tabs，而不是空白页面。

**验收标准：**

- [ ] 点击 Workspace 后，在 1 秒内完成切换
- [ ] 切换时自动保存当前 Workspace 的所有 Tabs
- [ ] 切换后自动恢复新 Workspace 的所有 Tabs
- [ ] 支持快捷键切换（Ctrl+1, Ctrl+2, ...）
- [ ] 显示当前活动的 Workspace（高亮）

---

#### 功能 3：会话完全隔离

**描述：** 每个 Workspace 有独立的 Cookie、LocalStorage、登录状态

**用户故事：**

> 作为一个开发者，我希望在"开发环境"和"生产环境"两个 Workspace 中登录同一个网站的不同账号，它们不会互相干扰。

**验收标准：**

- [ ] 同一网站在不同 Workspace 中可以登录不同账号
- [ ] Cookie 不会跨 Workspace 共享
- [ ] LocalStorage/SessionStorage 不会跨 Workspace 共享
- [ ] 浏览历史记录独立
- [ ] 下载记录独立

**技术验证：**

```
测试步骤：
1. 在 Workspace A 登录 Gmail 账号 A
2. 切换到 Workspace B
3. 打开 Gmail，应该看到未登录状态
4. 登录 Gmail 账号 B
5. 切换回 Workspace A
6. 打开 Gmail，应该仍然是账号 A 的登录状态
```

---

#### 功能 4：Tab 管理

**描述：** 在每个 Workspace 内管理多个 Tabs

**用户故事：**

> 作为一个用户，我希望在一个 Workspace 里打开多个网站（Gmail、Notion、Slack），并且可以在它们之间切换。

**验收标准：**

- [ ] 可以在 Workspace 内创建新 Tab（点击 + 或快捷键）
- [ ] 可以关闭 Tab
- [ ] 可以切换 Tab（点击或快捷键）
- [ ] 显示 Tab 的标题和图标
- [ ] 支持拖拽排序 Tab

---

#### 功能 5：保存和恢复会话

**描述：** 关闭应用后，下次打开自动恢复所有 Workspace 和 Tabs

**用户故事：**

> 作为一个用户，当我关闭应用并重新打开时，我希望看到我上次打开的所有 Workspace 和 Tabs，而不是从头开始。

**验收标准：**

- [ ] 关闭应用前自动保存所有 Workspace 的状态
- [ ] 重新打开应用后，恢复到上次的状态
- [ ] 恢复所有 Tabs 的 URL 和标题
- [ ] （可选）恢复滚动位置

---

### 4.2 重要但非必须的功能（Post-MVP）

#### 功能 6：导入和导出 Workspace

**描述：** 用户可以将 Workspace 导出为 JSON 文件，或从文件导入

**用户价值：**

- 备份和恢复
- 分享给其他用户
- 迁移到新电脑

---

#### 功能 7：快捷键和命令面板

**描述：** 通过快捷键快速执行操作（类似 VSCode 的 Ctrl+K）

**示例快捷键：**

- `Ctrl+K`：打开命令面板
- `Ctrl+1~9`：切换到第 N 个 Workspace
- `Ctrl+T`：在当前 Workspace 创建新 Tab
- `Ctrl+W`：关闭当前 Tab
- `Ctrl+Tab`：切换 Tab

---

#### 功能 8：Tab 自动休眠

**描述：** 长时间未使用的 Tab 自动休眠，释放内存

**用户价值：**

- 降低内存占用
- 提升性能

**设置选项：**

- 自动休眠时间（默认 30 分钟）
- 白名单（某些 Tab 永不休眠）

---

#### 功能 9：搜索功能

**描述：** 快速搜索 Workspace、Tab、历史记录

**搜索范围：**

- Workspace 名称
- Tab 标题和 URL
- 浏览历史

---

#### 功能 10：插件系统（基础版）

**描述：** 允许用户安装简单的插件来扩展功能

**示例插件：**

- 广告拦截器
- 密码管理器
- 自动登录脚本
- Web3 钱包集成

---

### 4.3 远期功能（暂不实现）

- Chrome 扩展完整支持
- 云同步（加密）
- 团队协作功能
- 移动端版本
- 企业 SSO 集成

---

## 五、用户体验设计

### 5.1 信息架构

```
Application
├── Sidebar（左侧）
│   ├── Workspace List
│   │   ├── Workspace 1
│   │   ├── Workspace 2
│   │   └── ...
│   ├── + Add Workspace
│   └── ⚙️ Settings
├── Main Content（中央）
│   ├── Tab Bar（顶部）
│   │   ├── Tab 1
│   │   ├── Tab 2
│   │   └── + New Tab
│   └── WebView Area（内容区）
└── Status Bar（底部，可选）
    └── 当前 Workspace 信息
```

### 5.2 关键交互流程

#### 流程 1：首次使用

```
1. 用户打开应用
2. 显示欢迎页面
3. 提示创建第一个 Workspace 或使用默认模板
4. 用户选择模板（Work / Web3 / Study / Personal）
5. 应用创建默认 Workspace
6. 显示主界面
```

#### 流程 2：创建 Workspace

```
1. 用户点击 Sidebar 的 "+ Add Workspace"
2. 弹出对话框
3. 用户输入名称、选择图标和颜色
4. 点击"Create"
5. 新 Workspace 出现在 Sidebar
6. 自动切换到新 Workspace
```

#### 流程 3：切换 Workspace

```
1. 用户点击 Sidebar 中的 Workspace
2. 应用保存当前 Workspace 的状态
3. 应用加载新 Workspace 的状态
4. 恢复所有 Tabs
5. 显示新 Workspace 的内容
（整个过程 < 1 秒）
```

#### 流程 4：打开新 Tab

```
1. 用户点击 Tab Bar 的 "+"
2. 创建新 Tab，显示地址栏
3. 用户输入 URL 或搜索
4. Tab 加载内容
5. Tab 标题和图标自动更新
```

### 5.3 UI 设计原则

1. **简洁优先**：界面不要过度装饰，聚焦功能
2. **快速响应**：所有操作的反馈延迟 < 100ms
3. **视觉层次**：使用颜色、大小、间距区分重要性
4. **容错设计**：关键操作（如删除）需要二次确认
5. **键盘友好**：所有操作都有快捷键

### 5.4 视觉风格

- **配色：** 暗色主题为主（护眼），提供明亮主题选项
- **字体：** 系统默认字体（性能好）
- **图标：** 使用 Lucide Icons（简洁、一致）
- **动画：** 最小化动画，只在必要时使用（切换、加载）

---

## 六、技术要求

### 6.1 性能指标

| 指标             | 目标    | 测量方法               |
| ---------------- | ------- | ---------------------- |
| 冷启动时间       | < 3 秒  | 从点击图标到显示主界面 |
| Workspace 切换   | < 1 秒  | 点击到内容显示         |
| 内存占用         | < 1.5GB | 4 Workspace × 5 Tab    |
| CPU 占用（空闲） | < 5%    | 任务管理器             |
| 安装包大小       | < 150MB | 压缩后                 |

### 6.2 兼容性要求

- **操作系统：** Windows 10+, macOS 10.15+, Ubuntu 20.04+
- **屏幕分辨率：** 最小 1280×720
- **浏览器内核：** Chromium 120+

### 6.3 安全要求

- 所有 Workspace 数据存储在本地，不上传云端（除非用户选择同步）
- 插件运行在沙箱中，需要用户授权才能访问敏感数据
- 支持主密码锁定应用（可选）

---

## 七、成功标准

### 7.1 MVP 阶段（第 1 个月）

**产品指标：**

- [ ] 完成核心功能开发（5 个必须功能）
- [ ] 通过内部测试（10 个真实用户）
- [ ] 冷启动时间 < 3 秒
- [ ] 无重大 Bug（P0）

**用户指标：**

- [ ] 10 名早期用户试用
- [ ] 收集至少 50 条反馈
- [ ] 用户留存率 > 50%（7 天）

**技术指标：**

- [ ] 代码覆盖率 > 60%
- [ ] 支持三大操作系统
- [ ] 成功打包和安装

---

### 7.2 Beta 阶段（第 2-3 个月）

**产品指标：**

- [ ] 完成 Post-MVP 功能（导入导出、快捷键、休眠）
- [ ] 优化性能（内存占用 < 1.5GB）
- [ ] 完善文档（用户手册、FAQ）

**用户指标：**

- [ ] 100+ 活跃用户
- [ ] 用户留存率 > 60%（30 天）
- [ ] NPS > 40

**社区指标：**

- [ ] GitHub Star > 100
- [ ] Reddit/HackerNews 讨论帖 > 50 upvotes
- [ ] 3+ 外部贡献者

---

### 7.3 1.0 正式版（第 4-6 个月）

**产品指标：**

- [ ] 插件系统上线（至少 5 个官方插件）
- [ ] 所有核心功能稳定
- [ ] 完整的自动更新机制

**用户指标：**

- [ ] 1000+ 活跃用户
- [ ] 用户留存率 > 70%（30 天）
- [ ] NPS > 50

**商业指标（可选）：**

- [ ] （如果做云同步）付费用户 > 50
- [ ] （如果做企业版）1 个企业客户

---

## 八、风险与应对

| 风险                      | 可能性 | 影响 | 应对措施                      |
| ------------------------- | ------ | ---- | ----------------------------- |
| 用户不理解 Workspace 概念 | 高     | 中   | 做好 Onboarding，提供示例模板 |
| 性能问题（内存占用）      | 中     | 高   | 实现激进的 Tab 休眠策略       |
| 竞品（Wavebox）降价       | 低     | 中   | 强调开源和免费优势            |
| Chrome 扩展支持难度大     | 高     | 中   | 先用插件系统替代              |
| 难以获取初始用户          | 中     | 高   | 在技术社区推广（HN/Reddit）   |
| 开源维护成本高            | 中     | 中   | 建立贡献者社区                |

---

## 九、项目时间线

```
Week 1-2:   技术预研 + 架构设计
Week 3-4:   核心功能开发（Workspace + Session）
Week 5:     UI 开发
Week 6:     集成测试 + Bug 修复
Week 7:     内部测试 + 反馈迭代
Week 8:     MVP 发布（Alpha）

Month 3:    Post-MVP 功能开发
Month 4:    Beta 测试 + 性能优化
Month 5-6:  插件系统 + 1.0 准备
Month 6:    1.0 正式版发布
```

---

## 十、附录

### 10.1 术语表

- **Workspace（工作空间）：** 一个独立的浏览器会话环境
- **Tab（标签页）：** Workspace 内的单个网页
- **Session（会话）：** 浏览器的登录状态、Cookie 等数据
- **Partition：** Electron 中用于隔离 Session 的机制
- **Plugin（插件）：** 扩展应用功能的第三方代码

### 10.2 参考资料

- [Wavebox 官网](https://wavebox.io)
- [Firefox Containers 文档](https://support.mozilla.org/en-US/kb/containers)
- [Electron 文档](https://www.electronjs.org/docs)

---

**文档版本：** v1.0  
**创建日期：** 2025-11-20  
**作者：** Product Team  
**审核人：** [待定]
